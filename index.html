<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Building Ambitious Web Apps with Ember.js</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

                <section data-markdown data-separator="---">
                    <script type="text/template">
                        ## Building Ambitious Web Apps with Ember.js

                        Desert Code Camp 2014

                        ![tomster](/tomster.png)

                        ---

                        ## Greg Babiars

                        Developer at Swiftpage

                        http://gregbabiars.com

                        @gbabiars

                        https://github.com/gbabiars

                    </script>

                </section>

                <section>
                    <h3>What is Ember?</h3>
                    <ul>
                        <li>A framework for creating ambitious web applications</li>
                        <li>MVC framework</li>
                        <li>Designed with productivity in mind</li>
                        <li>Inspired by Cocoa and Rails</li>
                        <li>Community driven</li>
                    </ul>

                    <aside class="notes">
                        <div>Mention that Ember is a true "framework".</div>
                        <div>Build apps that feel like desktop application</div>
                    </aside>
                </section>

                <section>
                    <h3>Why use Ember to build web apps?</h3>
                    <ul>
                        <li>Increases productivity and reduces boilerplate</li>
                        <li>Conventions guide you down the right path</li>
                        <li>As your app grows the complexity stays constant</li>
                        <li>Leverages work of community to solve common problems</li>
                        <li>Embraces the URL</li>
                    </ul>

                    <aside class="notes">
                        <div>Allows you to focus on building you app because you don't have to make the tedious decisions</div>
                        <div>Your application doesn't grow in complexity as the application grows</div>
                        <div>Conventions nudge you in the right direction</div>
                        <div>Helps your team build in a consistent way</div>
                        <div>Build stateful applications using URLs to map to state</div>
                        <div>No more truth in DOM, bindings propagate through the system</div>
                    </aside>
                </section>

                <section>
                    <h3>Myths about Ember</h3>
                    <ul>
                        <li>Documentation sucks</li>
                        <li>Hard to test</li>
                        <li>Not flexible</li>
                    </ul>
                </section>

                <section>
                    <h3>Core Concepts</h3>
                    <ul>
                        <li>Observers/Computed Properties</li>
                        <li>Actions & Events</li>
                        <li>Run Loop</li>
                    </ul>
                </section>

                <section>
                    <h3>Ember.Object</h3>
                    <p>
                        All "classes" in Ember inherit from Ember.Object.  This is the building block for just about everything in Ember and provides:<br>
                    </p>
                    <br>
                    <ul>
                        <li>The ability to create observers and computed properties</li>
                        <li>.get and .set which allow us access and trigger properties through bindings.</li>
                    </ul>
                </section>

                <section data-markdown>
                    <script type="text/template">
                        ### Ember.Object instantiation

                        ```js
                        var myObject = Ember.Object.create({
                            firstName: 'Greg',
                            lastName: 'Babiars'
                        });
                        myObject.set('firstName', 'Gregory');
                        myObject.get('firstName'); // Gregory
                        ```
                    </script>
                </section>

                <section data-markdown>
                    <script type="text/template">
                        ### Extending an object

                        ```js
                        var Person = Ember.Object.extend({
                            firstName: '',
                            lastName: '',
                            sayName: function() {
                                console.log(this.get('firstName') + ' ' + this.get('lastName');
                            }
                        });
                        var myPerson = Person.create({ firstName: 'John', lastName: 'Doe' });
                        myPerson.sayName(); // John Doe
                        ```
                    </script>
                </section>

                <section>
                    <h3>Computed Properties</h3>
                    <ul>
                        <li>Methods that can be accessed as properties</li>
                        <li>Allows us to propagate changes through our application</li>
                        <li>We can specify our dependent properties that trigger an update</li>
                    </ul>
                </section>

                <section>
                    <h3>Computed Properties</h3>
                    <pre>
                        <code>
var Person = Ember.Object.extend({
    firstName: '',
    lastName: '',
    name: function() {
        return this.get('firstName') + ' ' + this.get('lastName');
    }.property('firstName', 'lastName')
});
var myPerson = Person.create({ firstName: 'John', lastName: 'Doe' });
myPerson.get('name'); // John Doe
                        </code>
                    </pre>
                </section>

                <section>
                    <h3>Observers</h3>
                    <ul>
                        <li>Methods that are called when a dependent key has changed</li>
                    </ul>
                </section>

                <section>
                    <h3>Observers</h3>
                    <pre>
                        <code>
var Person = Ember.Object.extend({
    firstName: '',
    lastName: '',
    nameChanged: function() {
        console.log('A name has changed');
    }.observes('firstName', 'lastName')
});
var myPerson = Person.create({ firstName: 'John', lastName: 'Doe' });
myPerson.set('firstName', 'Jane'); // A name has changed will be logged
                        </code>
                    </pre>
                </section>

                <section>
                    <h3>Actions</h3>
                    <ul>
                        <li>Triggered in templates using {{action}} or JS using .send()</li>
                        <li>Can be handled in views, controllers or routes</li>
                        <li>Handlers must be defined in the actions hash</li>
                        <li>Starts in controller, bubbles up through parent routes until handler is found</li>
                    </ul>
                </section>

                <section>
                    <h3>Events</h3>
                    <ul>
                        <li>Low level DOM events (click, scroll, etc)</li>
                        <li>Handled in views mostly</li>
                        <li>Does not need to be namespaced</li>
                    </ul>
                </section>

                <section>
                    <h3>Run Loop</h3>
                    <ul>
                        <li>A set of queues that batch and order work</li>
                        <li>Intelligently executes your application to maximize efficiency and effectiveness</li>
                        <li>Have access to schedule using Ember.run</li>
                    </ul>
                </section>

                <section>
                    <h3>Architecture</h3>
                    <ul>
                        <li>Application</li>
                        <li>Router</li>
                        <li>Routes</li>
                        <li>Controllers</li>
                        <li>Views</li>
                        <li>Components</li>
                        <li>Templates</li>
                    </ul>
                </section>

                <section>
                    <h3>Ember.Application</h3>
                    <p>Instantiate a single instance for your application.  Can optionally pass in an element id to use as the root of your application.  Creates the namespace for your application.</p>
                    <pre>
                        <code>
var App = Ember.Application.create();
                        </code>
                    </pre>
                </section>

                <section>
                    <h3>Ember.Router</h3>
                    <p>Used to define the route structure of your application.  This is done using Router.map.</p>
                    <pre>
                        <code>
App.Router.map(function() {
    this.resource('posts', function() {
        this.route('post', { path: ':post_id' }); // Maps to /posts/1
    });
    this.resource('about', { path: 'my-about-page' });
});
                        </code>
                    </pre>
                </section>

                <section>
                    <h3>Ember.Router</h3>
                    <p>Can define routes and resources.  Resources can have have other routes and resources nested under them while routes cannot.  Resources automatically defines index, loading and error routes.  Routes are terminal.</p>
                </section>

                <section>
                    <h3>Ember.Router</h3>
                    <p>Resources will generate a route, controller and template at run time if one matching the naming convention is not found.</p>
                    <p>
                        For example, our posts resource will lookup or generate:
                        <ul>
                            <li>PostsRoute</li>
                            <li>PostsController</li>
                            <li>posts.handlebars</li>
                        </ul>
                    </p>
                </section>

                <section>
                    <h3>Ember.Route</h3>
                    <p>Route objects give you control over what happens within a specific route of your application.  It has hooks that allows you to customize the following:</p>
                    <ul>
                        <li>Loading the model for that route</li>
                        <li>Setting up the state of the controller</li>
                        <li>Customize what is rendered</li>
                        <li>Custom logic when entering/existing the route</li>
                        <li>Handle actions that bubble up</li>
                        <li>Allows us to transition to other routes</li>
                    </ul>
                </section>

                <section>
                    <h3>Ember.Route</h3>
                    <pre>
                        <code>
App.PostsRoute = Ember.Route.extend({
    // Load the model, if a promise it will not continue until it resolves
    model: function() {
        return this.store.find('post');
    },
    // Customize the state of the controller
    setupController: function(controller, model) {
        controller.set('model', model);
        controller.set('isEditing', false);
    },
    // Customize what is rendered
    renderTemplate: function(controller) {
        this.render('post-list', { controller: controller });
    }
});
                        </code>
                    </pre>
                </section>

                <section>
                    <h3>Ember.Controller</h3>
                    <p>
                        Controllers are designed to manage application state.  They have several properties:
                        <ul>
                            <li>One is generated for each route</li>
                            <li>Can depend on other controllers</li>
                            <li>Holds transient state and logic for a specific template</li>
                            <li>Typically has a model that represents an object or array</li>
                            <li>Handles actions triggered from the template</li>
                        </ul>
                    </p>
                </section>

                <section>
                    <h3>Ember.ObjectController</h3>
                    <p>Example of an object controller</p>
                    <pre>
                        <code>
App.PostController = Ember.ObjectController.extend({
    hasComments: function() {
        return this.get('model.comments.length') > 0;
    }.property('model.comments.length')

    actions: {
        cancel: function() {
            this.get('model').rollback();
        }
    }
});
                        </code>
                    </pre>
                </section>

                <section>
                    <h3>Ember.ArrayController</h3>
                    <p>Example of an array controller</p>
                    <pre><code>
App.PostsController = Ember.ArrayController.extend({
    hasReadAllPosts: function() {
        var unreadreadPosts = this.get('model').filterBy('isRead', false);
        return unreadPosts.get('length') === 0;
    }.property('posts.@each.isRead'),

    actions: {
        readPost: function(post) {
            post.set('isRead', true');
        }
    }
});
                    </code></pre>
                </section>

                <section>
                    <h3>Ember.View</h3>
                    <ul>
                        <li>Able to specify the tagName, css classes</li>
                        <li>Handles DOM events (click, key press, etc)</li>
                        <li>Can have conditional html attributes (class, disabled, etc)</li>
                        <li>Has a backing controller</li>
                        <li>Not commonly used</li>
                    </ul>
                </section>

                <section data-markdown data-separator="---">
                    <script type="text/template">
                        ### Ember.View

                        ```js
                        App.PostView = Ember.View.extend({
                            tagName: 'article',
                            classNameBindings: ['selected:active'],
                            selected: false,
                            templateName: 'post-detail',
                            click: function() {
                                this.get('controller').doSomething();
                            }
                        });
                        ```

                        ```html
                        {{view App.PostView postBinding="post" selected="false"}}
                        ```

                        ---

                        ### Ember.Component

                        - Subclass of Ember.View, designed for reuse
                        - Sandboxed, backing controller and context is itself
                        - All properties must be passed in via template
                        - Must explicitly bind external actions to actions inside the component
                        - Best place to wrap 3rd party plugins, i.e. jQuery plugins

                        ---

                        ### Ember.Component

                        ```js
                        App.ButtonComponent = Ember.Component.extend({
                            tagName: 'button',
                            classNames: ['btn'],
                            click: function() {
                                this.sendAction();
                            }
                        });
                        App.DemoController = Ember.Controller.extend({
                            buttonText: 'Click Me',
                            actions: {
                                doSomething: function() { console.log('button triggered this'); }
                            }
                        });
                        ```

                        ```html
                        {{button text=buttonText action="doSomething"}}
                        ```

                        ---

                        ### Ember.Component

                        Modal example

                        ```js
                        App.ModalComponent = Ember.Component.extend({
                            classNames: ['modal', 'fade'],
                            isOpen: false,
                            didInsertElement: function() {
                                this.$().modal({
                                    show: false
                                });
                            },
                            actions: {
                                submit: function() { this.sendAction(); }
                            },
                            toggleVisible: function()
                            {
                                this.$().modal(this.get("isOpen") ? "show" : "hide");
                            }.observes("isOpen")
                        });
                        ```

                        ---

                        ### Ember.Component

                        Modal example (cont.)

                        Modal component template

                        ```html
                        <div class="modal-content">
                            {{yield}}
                        </div>
                        <div class="modal-footer">
                            <button {{action "submit"}}>Submit</button>
                        </div>
                        ```

                        ---

                        ### Ember.Component

                        Modal example (cont.)

                        Person controller

                        ```js
                        App.PersonController = Ember.Controller.extend({
                            formOpen: false,
                            actions: {
                                toggleForm: function() {
                                    this.toggleProperty('formOpen');
                                },
                                save: function() {
                                    this.get('model').save();
                                }
                            }
                        });
                        ```

                        ---

                        ### Ember.Component

                        Modal example (cont.)

                        Person Template

                        ```html
                        <button {{action "toggleForm"}}>Toggle Form</button>
                        {{#modal action="save" isOpen=formOpen}}
                            <label>Name:</label>
                            {{input value=model.name}}
                        {{/modal}}
                        ```

                        ---

                        ### Templates

                        - Always have a backing context, typically a controller
                        - Handlebars - Logicless templates, logic lives in JS
                        - Automatically update properties
                        - Can trigger actions

                        ---

                        ### Templates

                        Simple syntax example

                        ```html
                        <div>
                            <h1>{{person.name}}</h1>
                            ##{{person.company}}</h2>
                        </div>
                        ```

                        ---

                        ### Templates

                        Using each and link-to

                        ```html
                        <ul>
                            {{#each post in model}}
                            <li>
                                {{link-to post.name "post" post}}
                            </li>
                            {{/each}}
                        </ul>
                        ```

                        ---

                        ### Templates

                        Triggering an action

                        ```html
                        <button {{action "save" model}}></button>
                        ```
                    </script>
                </section>

                <section>
                    <h2>What about persistence?</h2>
                    <p>Well that's a whole different talk!</p>
                </section>

                <section>
                    <h3>Persistence Libraries</h3>
                    <ul>
                        <li>Ember Data</li>
                        <li>Ember Model</li>
                        <li>Ember Persistence Foundation (EPF)</li>
                        <li>ic-ajax</li>
                    </ul>
                </section>

                <section>
                    <h2>Further Learning</h2>
                    <ul>
                        <li><a href="http://emberjs.com/guides">http://emberjs.com/guides</a></li>
                        <li><a href="http://emberjs.com/api">http://emberjs.com/api</a></li>
                        <li><a href="https://www.youtube.com/user/EmberNYC">https://www.youtube.com/user/EmberNYC</a></li>
                        <li><a href="http://emberweekly.com/">http://emberweekly.com/</a></li>
                    </ul>
                </section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
